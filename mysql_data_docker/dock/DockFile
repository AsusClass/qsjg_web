# docker run -d -v /mysql_data/mysql_backup:/data/mysql_backup  -v /mysql_data/qs_mysql_data:/var/lib/mysql -v /mysql_data/qs_mysql_cnf:/etc/mysql --net=host --name=qs_mysql qs_mysql:1.0
## 重要的点 
# 1. 指定mysql数据库文件映射
# 2. 指定mysql配置文件映射
# 3. 指定mysql备份路径映射(可查看备份脚本)
# 4. 网络类似设置为host，和宿主机共享网络

FROM mariadb:10.5
MAINTAINER leo<chongxili95@gmail.com>

ENV  MYSQL_ROOT_PASSWORD  root

RUN apt-get -y  update
RUN apt-get -y  install vim
RUN apt-get -y install cron
RUN echo "30 0 * * *  root bash  /data/mysql_backup/mysql_backup.sh" >> /etc/crontab  # mysql backup daily


COPY ./mysql_backup.sh  /data/mysql_backup/mysql_backup.sh


